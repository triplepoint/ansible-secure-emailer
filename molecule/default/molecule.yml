---
dependency:
  name: galaxy
driver:
  name: docker
lint:
  name: yamllint
platforms:
  - name: ubuntu_16_04
    image: triplepoint/ubuntu-systemd-16.04
    privileged: true
    command: /bin/bash -c "exec /sbin/init --log-target=journal 3>&1"
  - name: ubuntu_18_04
    image: triplepoint/ubuntu-systemd-18.04
    privileged: true
    command: /bin/bash -c "exec /sbin/init --log-target=journal 3>&1"
provisioner:
  name: ansible
  inventory:
    group_vars:
      all:
        secure_emailer_fqdn: testsite.local
        secure_emailer_relay_server_name: smtp.gmail.com
        secure_emailer_relay_server_port: 587
        secure_emailer_relay_server_username: testuser
        secure_emailer_relay_server_password: testpassword

  lint:
    name: ansible-lint
    options:
      x: ANSIBLE0016
scenario:
  name: default
verifier:
  name: testinfra
  lint:
    name: flake8
